<div id = "topbar">
  <img src="assets/icons/3.png">
  <nav>
  <ul>
    <li>
      <span class="topbarMenu btn-success fileinput-button">
        <span>upload folder</span>
        <input type="file" ng2FileSelect [uploader]="uploader" (change)="selectedXMLFileOnChanged($event)"  webkitdirectory mozdirectory >
      </span>
    </li>	
    <!-- <li *ngIf="step!==0" >
      <span class="cannotTopbarMenu btn-success fileinput-button">
        <span>upload folder</span>
      </span>
    </li>	 -->
    <li class="topbarMenu" id="OpenProject" (click) = "openProject()">Open</li>
    <!-- <li *ngIf="step===0" >
        <span class="btn btn-success owlfileinput-button">
          <span>uploadOWL</span>
          <input type="file" ng2FileSelect [uploader]="uploader" (change)="selectedOWLFileOnChanged($event)" multiple >
        </span>
    </li>
    <li *ngIf="step!==0" >
        <span class="btn btn-success owlfileinput-button" id="CannotOWL">
          <span>uploadOWL</span>
        </span>
    </li> -->
    <!--
    <li><button class="button" id="generateDCS" (click) = "generateDomainClockSpecification()">generateDCS</button></li>
    <li><button class="button" id="generateTD" (click) = "generateTimingDiagrams()">generateTD</button></li>
    -->
    <!-- <li *ngIf="step === 6"><button class="button" id="AddConstraint" (click) = "showConstraintDialog()">Add Constraint</button></li>
    <li *ngIf="step !== 6"><button class="button" id="CannotAddConstraint" disabled="disabled" (click) = "showConstraintDialog()">Add Constraint</button></li>
    <li *ngIf="step >= 6"><button class="button" id="Save" (click) = "saveConstraintsTxt()">Save</button></li>
    <li *ngIf="6 > step"><button class="button" id="CannotSave" (click) = "saveConstraintsTxt()" disabled="disabled">Save</button></li>
    <li *ngIf="step >= 7"><button class="button" id="DownloadConstraints" (click) = "downloadConstraints()">DownloadCons</button></li>
    <li *ngIf="7 > step"><button class="button" id="CannotDownloadConstraints" (click) = "downloadConstraints()" disabled="disabled">DownloadCons</button></li>
    <li *ngIf="step === 7"><button class="button" id="SemanticCheck" (click) = "downloadTool()">Semantic Check</button></li>
    <li *ngIf="step !== 7"><button class="button" id="CannotSemanticCheck" (click) = "downloadTool()" disabled="disabled">Semantic Check</button></li>
    <li id="help"><a routerLink="/help">Help</a></li>	
    <li *ngIf="step === 8"><button class="button" id="nextMainStep" (click) = "nextMainStep()">Next Main Step</button></li>
    <li *ngIf="step !== 8"><button class="button" id="CannotnextMainStep" disabled="disabled" (click) = "nextMainStep()">Next Main Step</button></li>	 -->
    <li *ngIf="step === 6" class="topbarMenu" id="AddConstraint" (click) = "showConstraintDialog()">Add Constraint</li>
    <li *ngIf="step !== 6" class="cannotTopbarMenu" id="CannotAddConstraint" disabled="disabled">Add Constraint</li>
    <li *ngIf="step >= 6" class="topbarMenu" id="Save" (click) = "saveConstraintsTxt()">Save</li>
    <li *ngIf="6 > step" class="cannotTopbarMenu" id="CannotSave" (click) = "saveConstraintsTxt()" disabled="disabled">Save</li>
    <li *ngIf="step >= 7" class="topbarMenu" id="DownloadConstraints" (click) = "downloadConstraints()">DownloadCons</li>
    <li *ngIf="7 > step" class="cannotTopbarMenu" id="CannotDownloadConstraints" (click) = "downloadConstraints()" disabled="disabled">DownloadCons</li>
    <li *ngIf="step === 8" class="topbarMenu" id="SemanticCheck" (click) = "downloadTool()">Semantic Check</li>
    <li *ngIf="step !== 8" class="cannotTopbarMenu" id="CannotSemanticCheck" (click) = "downloadTool()" disabled="disabled">Semantic Check</li>
    <li class="topbarMenu" id="help"></li>	
    <li *ngIf="step === 9" class="topbarMenu" id="nextMainStep" (click) = "nextMainStep()">Next Main Step</li>
    <li *ngIf="step !== 9" class="cannotTopbarMenu" id="CannotnextMainStep" disabled="disabled" (click) = "nextMainStep()">Next Main Step</li>	
  </ul>
  </nav>
</div> 

<div id = "drawingboard">
  
  <div class="tab">
    <div id="details1DIV" hidden = "hidden">
      <details id="details1" (click) = details1Click() class="details">
        <summary>Sub Clock Diagram</summary>
        <ng-container *ngFor="let diagram of diagrams;let i = index">
            <p *ngIf="diagramCount > i" id = "lm{{i + 1}}" (click) = "change_Menu(i + 1)">{{diagram.title}} : {{diagram.machineName}}</p>
        </ng-container>
      </details>
    </div>

    <div id="details2DIV" hidden = "hidden">
        <details id="details2" (click) = details2Click() class="details">
          <summary>Domain Clock Specification</summary>
          <ng-container *ngFor="let str of domainClockSpecification;let i = index">
              <p (click) = "showDomainClockSpecification(str)">SCD{{(+str.split(',')[0]) + 1}} : {{str.split(',')[1]}}</p>
          </ng-container>
        </details>
      </div>

    <div id="details3DIV" hidden = "hidden">
      <details id="details3" (click) = details3Click() class="details">
          <summary>Timing Diagram</summary>
          <ng-container *ngFor="let diagram of diagrams;let i = index">
              <p *ngIf="i >= diagramCount" id = "lm{{i + 1}}" (click) = "change_Menu(i + 1)">{{diagram.title}} : {{diagram.machineName}}</p>
          </ng-container>
      </details>
    </div>

    <!---项目选择  
	<div id="OpenProject" class="OpenProject">		
		<div class="table">
			<span class="label">OpenProject:</span>
			<button class="close" (click) = "close('OpenProject')">X</button>
		</div>	
		<div class="showPro">
			<form id="op">
				<ul *ngFor="let pro of projects">
					<li [class.selected]="project===pro" (click)="search(pro)">{{pro}}
						<ul *ngIf="project === pro">
							<li *ngFor="let version of versions"><label><input type="radio" name="project" id="version" value="{{version}}">{{version}}</label></li>
						</ul>
					</li>
				</ul>
			</form>
		</div>
	   <div style="position: absolute;bottom:10px;">
			<button class="button" (click)="open()">Open</button>
			<button class="button" (click) = "close('OpenProject')">Cancel</button>
	   </div>
    </div>
    ---> 
  </div>
  
	<div class="content" id="content1"></div>
</div>

<div id="rightbar">
    <ul>
      <li class="title">&nbsp;Process of Getting Time Constraints
        <div class="content">
          <ul class="content" *ngIf="step === 0">
            <li style="background:#CFD8DC">&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>	
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 1">
            <li>&nbsp;Start</li>
            <li style="background:#CFD8DC">&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>	
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 2">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li style="background:#CFD8DC">&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 3">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li style="background:#CFD8DC">&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>
            <li>&nbsp;Step 5:Rule Based Checking</li>	
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>

          <ul class="content" *ngIf="step === 4">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li style="background:#CFD8DC">&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 5">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li style="background:#CFD8DC">&nbsp;Step 5:Rule Based Checking	</li>
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 6">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>
            <li style="background:#CFD8DC">&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 7">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li style="background:#CFD8DC">&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step === 8">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li style="background:#CFD8DC">&nbsp;Step 8:Performing Semantics Check</li>	
            <li>&nbsp;Finish</li>
          </ul>
          <ul class="content" *ngIf="step > 8">
            <li>&nbsp;Start</li>
            <li>&nbsp;Step 1:Read the Project File</li>
            <li>&nbsp;Step 2:generate Domain Clock Specification</li>	
            <li>&nbsp;Step 3:generate Timing Diagrams</li>	
            <li>&nbsp;Step 4:Read the Ontology File</li>	
            <li>&nbsp;Step 5:Rule Based Checking</li>	
            <li>&nbsp;Step 6:Manually Add Constraints</li>
            <li>&nbsp;Step 7:Export Timing Constraints</li>
            <li>&nbsp;Step 8:Performing Semantics Check</li>		
            <li style="background:#CFD8DC">&nbsp;Finish</li>
          </ul>
        </div>
      </li><br>
      <button (click) = "previous()">PREVIOUS</button>
      <button (click) = "next()">NEXT</button>
      <div id = "OtherConstraintDIV" hidden = "hidden">
        <li *ngIf="!open1;else elseOpen1" (click)="setOpen1()" class="title">&nbsp;+  Added Constraints</li>
        <ng-template #elseOpen1>
          <li (click)="setOpen1()" class="title">&nbsp;-  Added Constraints</li>
          <div class="content" id = "OtherConstraint" >
            <table *ngFor="let constraint of constraints;let i = index" class="content" id = "consAndBut{{i}}">
              <span id = "cons{{i}}">{{constraint}}</span>
              <button class="DeleteButton" (click)=deleteConstraint(i)>delete</button>
            </table>
          </div>
        </ng-template>
      </div>
      <li *ngIf="!open2;else elseOpen2" (click)="setOpen2()" class="title">&nbsp;+  Phenomenon</li>
      <ng-template #elseOpen2>
        <li (click)="setOpen2()" class="title">&nbsp;-  Phenomenon</li>
        <div class="content">
          <table *ngIf="open2" class="content">
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>PheType</th>
            </tr>
            <tr *ngFor="let phenomonon of allPhenomena">
              <th>phe {{phenomonon.biaohao}}</th>
              <th>{{phenomonon.name}}</th>
              <th>{{phenomonon.state}}</th>
            </tr>
          </table>	
        </div>
      </ng-template>
      <li *ngIf="!open3;else elseOpen3" (click)="setOpen3()" class="title">&nbsp;+  Interaction</li>
      <ng-template #elseOpen3>
        <li (click)="setOpen3()" class="title">&nbsp;-  Interaction</li>
        <div class="content">
          <table *ngIf="open3" class="content">
            <tr>
              <th>Name</th>
              <th>Initiator</th>
              <th>Receiver</th>
              <th>Content</th>
            </tr>
            <tr *ngFor="let phenomonon of allPhenomena">
              <th>int {{phenomonon.biaohao}}</th>
              <th>{{phenomonon.from.shortName}}</th>
              <th>{{phenomonon.to.shortName}}</th>
              <th>{{phenomonon.name}}</th>
            </tr>
          </table>
        </div>
      </ng-template>
      <li *ngIf="!open4;else elseOpen4" (click)="setOpen4()" class="title">&nbsp;+  Reference</li>
      <ng-template #elseOpen4>
        <li (click)="setOpen4()" class="title">&nbsp;-  Reference</li>
        <div class="content">
          <table *ngIf="open4" class="content">
            <tr>
              <th>Name</th>
              <th>Initiator</th>
              <th>Receiver</th>
              <th>Content</th>
              <th>RefType</th>
            </tr>
            <tr *ngFor="let reference of references">
              <th>req {{reference.requirement.biaohao}}</th>
              <th>{{reference.from.shortName}}</th>
              <th>{{reference.to.shortName}}</th>
              <th>{{reference.name}}</th>
              <th *ngIf="reference.constraining === true">constraining</th>
              <th *ngIf="reference.constraining === false">normal</th>
            </tr>						
          </table>
        </div>
      </ng-template>
      <li *ngIf="!open5;else elseOpen5" (click)="setOpen5()" class="title">&nbsp;+  PD Information</li>
      <ng-template #elseOpen5>
        <li (click)="setOpen5()" class="title">&nbsp;-  PD Information</li>
        <div class="content">
          <table *ngIf="open5" class="content">Information</table>
        </div>
      </ng-template>		
    </ul>
  </div>

  
  
  
